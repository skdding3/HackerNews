{"mappings":"AAAA,MAAMA,EAAYC,SAASC,eAAe,QACpCC,EAAO,IAAIC,eAMXC,GALUJ,SAASK,cAAc,OAKzB,CACVC,YAAc,EACdC,MAAO,KAIX,SAASC,EAAQC,GAIb,OAHAP,EAAKQ,KAAK,MAAOD,GAAK,GACtBP,EAAKS,OAEEC,KAAKC,MAAMX,EAAKY,SAC3B,CAUA,SAASC,IACL,IAAIC,EAAWZ,EAAMG,MACrB,MAAMU,EAAW,GACjB,IAAIC,EAAW,+wBAyBS,IAApBF,EAASG,SACTH,EAAWZ,EAAMG,MArCzB,SAAmBA,GACf,IAAK,IAAKa,EAAI,EAAGA,EAAIb,EAAMY,OAASC,IAChCb,EAAMa,GAAGC,MAAO,EAGpB,OAAOd,CACX,CA+BiCe,CAAUd,EAtD1B,0CAyDb,IAAI,IAAIY,EAA8B,IAAzBhB,EAAME,YAAc,GAASc,EAAwB,GAApBhB,EAAME,YAAkBc,IAClEH,EAASM,KAAK,2BACEP,EAASI,GAAGC,KAAO,aAAe,wLAG5BL,EAASI,GAAGI,OAAOR,EAASI,GAAGK,0JAGgBT,EAASI,GAAGM,6MAKtCV,EAASI,GAAGO,iEACXX,EAASI,GAAGQ,mEACZZ,EAASI,GAAGS,8EAS5DX,EAAWA,EAASY,QAAQ,oBAAqBb,EAASc,KAAK,KAC/Db,EAAWA,EAASY,QAAQ,oBAAqB1B,EAAME,YAAc,EAAIF,EAAME,YAAc,EAAI,GACjGY,EAAWA,EAASY,QAAQ,oBAAqB1B,EAAME,YAAc,GAErEP,EAAUiC,UAAYd,CAC1B,CAKWlB,SAASK,cAAc,MAyElC,SAAS4B,IACL,MAAMC,EAAYC,SAASC,KAET,KAAdF,EACAnB,IACMmB,EAAUG,QAAQ,YAAc,GACtCjC,EAAME,YAAcgC,OAAOJ,EAAUK,OAAO,IAC5CxB,KA7ER,WAGI,MAAMS,EAAKW,SAASC,KAAKG,OAAO,GAC1BC,EAAchC,EAjGJ,yCAiGwBsB,QAAQ,MAAON,IACjDN,EAAW,ieAQyBd,EAAME,2UAS9BkC,EAAYf,qFAEZe,EAAYC,0HAS9B,IAAK,IAAIrB,EAAI,EAAGA,EAAIhB,EAAMG,MAAMY,OAAQC,IACpC,GAAIhB,EAAMG,MAAMa,GAAGI,KAAOc,OAAOd,GAAK,CAClCpB,EAAMG,MAAMa,GAAGC,MAAO,EACtB,KACJ,CAyBJtB,EAAUiC,UAAYd,EAASY,QAAQ,mBAtBvC,SAASY,EAAYC,EAAUC,EAAS,GACpC,MAAMC,EAAgB,GAEtB,IAAI,IAAIzB,EAAI,EAAGA,EAAIuB,EAASxB,OAAQC,IAChCyB,EAActB,KAAK,+CACsB,GAATqB,6JAGdD,EAASvB,GAAGO,iBAAiBgB,EAASvB,GAAGS,0DACxBc,EAASvB,GAAGqB,iFAK5CE,EAASvB,GAAGuB,SAASxB,OAAS,GAC7B0B,EAActB,KAAKmB,EAAYC,EAASvB,GAAGuB,SAAUC,EAAS,IAItE,OAAOC,EAAcd,KAAK,GAC9B,CAE2DW,CAAYF,EAAYG,UAKvF,CAYQG,EAER,CAGAC,OAAOC,iBAAiB,aAAcf,GAEtCA","sources":["app.ts"],"sourcesContent":["const container = document.getElementById('root')\nconst ajax = new XMLHttpRequest()\nconst content = document.createElement('div')\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\n\n// STATE\nconst store = {\n    currentPage : 1,\n    feeds: [],\n\n};\n\nfunction getData(url) {\n    ajax.open('GET', url, false)\n    ajax.send()\n\n    return JSON.parse(ajax.response);\n}\n\nfunction makeFeeds(feeds) {\n    for (let  i = 0; i < feeds.length ; i++) {\n        feeds[i].read = false;\n    }\n\n    return feeds;\n}\n\nfunction newsFeed() {\n    let newsFeed = store.feeds;\n    const newsList = [];\n    let template = `\n    <div class=\"bg-gray-600 min-h-screen\">\n      <div class=\"bg-white text-xl\">\n        <div class=\"mx-auto px-4\">\n          <div class=\"flex justify-between items-center py-6\">\n            <div class=\"flex justify-start\">\n              <h1 class=\"font-extrabold\">Hacker News</h1>\n            </div>\n            <div class=\"items-center justify-end\">\n              <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n                Previous\n              </a>\n              <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n                Next\n              </a>\n            </div>\n          </div> \n        </div>\n      </div>\n      <div class=\"p-4 text-2xl text-gray-700\">\n        {{__news_feed__}}        \n      </div>\n    </div>\n  `;\n\n    if (newsFeed.length === 0) {\n        newsFeed = store.feeds = makeFeeds(getData(NEWS_URL));\n    }\n\n    for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\n        newsList.push(`\n      <div class=\"p-6 ${newsFeed[i].read ? 'bg-red-500' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n        <div class=\"flex\">\n          <div class=\"flex-auto\">\n            <a href=\"#/show/${newsFeed[i].id}\">${newsFeed[i].title}</a>  \n          </div>\n          <div class=\"text-center text-sm\">\n            <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${newsFeed[i].comments_count}</div>\n          </div>\n        </div>\n        <div class=\"flex mt-3\">\n          <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n            <div><i class=\"fas fa-user mr-1\"></i>${newsFeed[i].user}</div>\n            <div><i class=\"fas fa-heart mr-1\"></i>${newsFeed[i].points}</div>\n            <div><i class=\"far fa-clock mr-1\"></i>${newsFeed[i].time_ago}</div>\n          </div>  \n        </div>\n      </div>    \n    `);\n    }\n\n\n\n    template = template.replace('{{__news_feed__}}', newsList.join(''));\n    template = template.replace('{{__prev_page__}}', store.currentPage > 1 ? store.currentPage - 1 : 1);\n    template = template.replace('{{__next_page__}}', store.currentPage + 1);\n\n    container.innerHTML = template;\n}\n\n\n\n// JSON 파싱 -> 객체\nconst ul = document.createElement('ul')\n\n\nfunction newsDetail() {\n\n    // hash.id\n    const id = location.hash.substr(7)\n    const newsContent = getData(CONTENT_URL.replace('@id', id), false);\n    const template = `<div class=\"bg-gray-600 min-h-screen pb-8\">\n            <div class=\"bg-white text-xl\">\n                <div class=\"mx-auto px-4\">\n                    <div class=\"flex justify-between items-center py-6\">\n                        <div class=\"flex justify-start\">\n                            <h1 class=\"font-extrabold\">Hacker News</h1>\n                        </div>\n                        <div class=\"items-center justify-end\">\n                            <a href=\"#/page/${store.currentPage}\" class=\"text-gray-500\">\n                                <i class=\"fa fa-times\"></i>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n                <h2>${newsContent.title}</h2>\n                <div class=\"text-gray-400 h-20\">\n                    ${newsContent.content}\n                </div>\n\n                {{__comments__}}\n\n            </div>\n        </div>\n            `;\n\n    for (let i = 0; i < store.feeds.length; i++) {\n        if (store.feeds[i].id === Number(id)) {\n            store.feeds[i].read = true;\n            break;\n        }\n    }\n\n    function makeComment(comments, called = 0) {\n        const commentString = [];\n\n        for(let i = 0; i < comments.length; i++) {\n            commentString.push(`\n                <div style=\"padding-left: ${called * 40}px;\" class=\"mt-4\">\n                    <div class=\"text-gray-400\">\n                    <i class=\"fa fa-sort-up mr-2\"></i>\n                    <strong>${comments[i].user}</strong> ${comments[i].time_ago}\n                    <p class=\"text-gray-700\">${comments[i].content}</p>\n                    </div>\n                </div>\n            `)\n\n            if(comments[i].comments.length > 0) {\n                commentString.push(makeComment(comments[i].comments, called + 1));\n            }\n        }\n\n        return commentString.join('');\n    }\n\n    container.innerHTML = template.replace('{{__comments__}}', makeComment(newsContent.comments));\n\n    // title.innerHTML = newsContent.title;\n\n    // content.appendChild(title)\n}\n\n// Router\nfunction router() {\n    const routePath = location.hash;\n\n    if (routePath === '') {\n        newsFeed();\n    } else if(routePath.indexOf('#/page/') >= 0) {\n        store.currentPage = Number(routePath.substr(7));\n        newsFeed();\n    } else {\n        newsDetail();\n    }\n}\n\n// 해시값 변경\nwindow.addEventListener('hashchange', router)\n\nrouter()\n\n"],"names":["$de9db17bbab00a4e$var$container","document","getElementById","$de9db17bbab00a4e$var$ajax","XMLHttpRequest","$de9db17bbab00a4e$var$store","createElement","currentPage","feeds","$de9db17bbab00a4e$var$getData","url","open","send","JSON","parse","response","$de9db17bbab00a4e$var$newsFeed","newsFeed","newsList","template","length","i","read","$de9db17bbab00a4e$var$makeFeeds","push","id","title","comments_count","user","points","time_ago","replace","join","innerHTML","$de9db17bbab00a4e$var$router","routePath","location","hash","indexOf","Number","substr","newsContent","content","makeComment","comments","called","commentString","$de9db17bbab00a4e$var$newsDetail","window","addEventListener"],"version":3,"file":"index.51d82d8d.js.map"}